<HTML><HEAD><TITLE>local array(+Array, +Type)</TITLE>
</HEAD><BODY>[ <A HREF="index.html">Non-logical Variables, Arrays, Bags, Shelves and Stores</A> | <A HREF="../index.html">The ECLiPSe Built-In Predicates</A> | <A HREF="../../index.html">Reference Manual</A> | <A HREF="../../fullindex.html">Alphabetic Index</A> ]
<H1>local array(+Array, +Type)</H1>
Creates a non-logical array Array with given Type.
<DL>
<DT><EM>+Array</EM></DT>
<DD>Ground compound term with integer arguments.
</DD>
<DT><EM>+Type</EM></DT>
<DD>One of the atoms: float, integer, byte, prolog
</DD>
</DL>
<H2>Description</H2>
   If Array is a compound term, a non-logical array (visible only in
   the caller module) of type prolog is created.  Its dimension is the
   arity of the term Array and the size of each dimension is specified
   by the corresponding argument of the term Array.
   The elements of the array are initialised depending on the type:
   float, integer and byte arrays are initialised with 0 values, prolog
   arrays are initialised with free variables.
<P>
   The array indexes in the array range from 0 to the dimension minus one.
   For example myarray create with <CODE>local array(myarray(3,4,5), integer)</CODE>
   contains 60 integers that may be accessed from myarray(0,0,0) to
   myarray(2,3,4).
<P>
   The contents of the array persists across failures.
   The value of the array elements can be changed with
   setval/2 and retrieved with getval/2.  Setting and retrieving terms
   from a non-logical arrays involves copying the term each time. 
   In particular, if the term contains variables, they lose their
   identity and are replaced with fresh ones.
<P>
   Notes:
<P>
   Re-declaring an existing array with the same dimension but different
   sizes or type raises a warning.

<H3>Fail Conditions</H3>
   None.


<H3>Resatisfiable</H3>
   No.
<H3>Exceptions</H3>
<DL>
<DT><EM>(4) instantiation fault </EM>
<DD>Array or Type is not ground.
<DT><EM>(5) type error </EM>
<DD>Array is not a structure with integer arguments.
<DT><EM>(5) type error </EM>
<DD>Type is not an atom.
<DT><EM>(6) out of range </EM>
<DD>Type is not a valid type name.
<DT><EM>(6) out of range </EM>
<DD>The ground structure Array has arguments that are integers not greater than 0.
<DT><EM>(24) number expected </EM>
<DD>The ground structure Array has arguments that are non-numbers.
<DT><EM>(42) redefining an existing array </EM>
<DD>An array with the same name and dimension as Array already exists.
</DL>
<H2>Examples</H2>
<PRE>
Success:
      local array(a(4), prolog).
      local array(b(2,3), integer).
      local array(a(4), float), array(a(4,1), byte).

Error:
      local array(X, prolog).                         (Error 4).
      local array(a(6.0), integer).                   (Error 5).
      local array(a(0), integer).                     (Error 6).
      local array(a(-2), integer).                    (Error 6).
      local array(a(4), integer), array(a(5), float).  (Warning 42).
</PRE>
<H2>See Also</H2>
<A HREF="../../kernel/arrays/current_array-2.html">current_array / 2</A>, <A HREF="../../kernel/arrays/array-2.html">array / 2</A>, <A HREF="../../kernel/arrays/decval-1.html">decval / 1</A>, <A HREF="../../kernel/arrays/incval-1.html">incval / 1</A>, <A HREF="../../kernel/arrays/bag_create-1.html">bag_create / 1</A>, <A HREF="../../kernel/arrays/shelf_create-2.html">shelf_create / 2</A>, <A HREF="../../kernel/arrays/shelf_create-3.html">shelf_create / 3</A>, <A HREF="../../kernel/arrays/getval-2.html">getval / 2</A>, <A HREF="../../kernel/arrays/setval-2.html">setval / 2</A>
</BODY></HTML>
