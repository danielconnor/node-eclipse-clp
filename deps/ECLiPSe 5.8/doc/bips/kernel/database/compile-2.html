<HTML><HEAD><TITLE>compile(+File,+Module)</TITLE>
</HEAD><BODY>[ <A HREF="index.html">Predicate Database and Compiler</A> | <A HREF="../index.html">The ECLiPSe Built-In Predicates</A> | <A HREF="../../index.html">Reference Manual</A> | <A HREF="../../fullindex.html">Alphabetic Index</A> ]
<H1>compile(+File,+Module)</H1>
Compiles specified file or list of files File into the specified module
Module.


<DL>
<DT><EM>+File</EM></DT>
<DD>Atom or string, or list of atoms or strings.
</DD>
<DT><EM>+Module</EM></DT>
<DD>Atom.
</DD>
</DL>
<H2>Description</H2>
   Similar to compile/1 except that the specified file or list of files is
   compiled into the specified module Module.

<P>
   If the file contains no module/1 or module/3 directive,
   procedures that occur in File are written to the module Module
   (overwriting if necessary); the rest of the module remains unchanged.  If
   the file contains a module directive it works like compile/1.

<P>
   If Module does not exist, compile/2 will create such a module and
   compile File into it.

<P>
   In addition to the exceptions listed below, any exception can occur during
   compilation, because general code may be executed in directives (:-/2), file
   queries (?-/2), macro transformations and inline expansion code.

<H3>Fail Conditions</H3>
   None.


<H3>Resatisfiable</H3>
   No.
<H3>Exceptions</H3>
<DL>
<DT><EM>(4) instantiation fault </EM>
<DD>Either File or Module is not instantiated.
<DT><EM>(5) type error </EM>
<DD>File is instantiated, but not to an atom or string, or a list of atoms or strings.
<DT><EM>(5) type error </EM>
<DD>Module is instantiated, but not to    an atom.
<DT><EM>(61) inconsistent tool redefinition </EM>
<DD>A predicate that was already defined is later declared to be a tool.
<DT><EM>(62) inconsistent procedure redefinition </EM>
<DD>Illegal attempt to change a predicate's properties like: tool, dynamic, demon, parallel, calling convention.
<DT><EM>(82) trying to access a locked module </EM>
<DD>The module in which the clauses should be compiled is locked.
<DT><EM>(94) trying to redefine an existing imported procedure </EM>
<DD>There is already am imported predicate of the same name.
<DT><EM>(130) syntax error: illegal head </EM>
<DD>The head of a clause is not an atom or a compound term.
<DT><EM>(131) syntax error: illegal goal </EM>
<DD>A subgoal in the body of a clause is not an atom, a compound term or a variable.
<DT><EM>(134) procedure clauses are not consecutive </EM>
<DD>The clauses of a procedure are not consecutive.
<DT><EM>(136) trying to redefine a built-in predicate </EM>
<DD>Attempt to redefine a built-in predicate without declaring it first.
<DT><EM>(137) trying to redefine a procedure with another type </EM>
<DD>A procedure which was previously referenced as built-in or external is now defined as a regular one, or vice versa.
<DT><EM>(139) compiled or dumped file message </EM>
<DD>This event is invoked at the end of each compiled file, by default it prints the compilation time and size of compiled code.
<DT><EM>(143) compiled query failed </EM>
<DD>A query in the compiled file has failed. This is by default ignored and the compilation continues.
<DT><EM>(145) procedure being redefined in another file </EM>
<DD>A procedure is being redefined in another file than the original one.
<DT><EM>(147) compilation aborted </EM>
<DD>This event is raised just before a compilation is aborted because of an error.
<DT><EM>(148) bad pragma </EM>
<DD>An unrecognised pragma was used in the code.
<DT><EM>(171) File does not exist :  </EM>
<DD>File does not exist.
</DL>
<H2>Examples</H2>
<PRE>
Success:
   [hanoi].         % compiles the file hanoi.pl

   [eclipse]: sh('cat file1').
   p.
   yes.
   [eclipse]: sh('cat file2').
   q(X) :- write(X).
   yes.
   [eclipse]: [user], p.
    p :- write(hi).
    user compiled 92 bytes in 0.00 seconds
   hi
   yes.
   [eclipse]: compile([file1, file2],b), p.
   /home/lp/user/file1 compiled 32 bytes in 0.02 seconds
   /home/lp/user/file2 compiled 92 bytes in 0.00 seconds
   hi               % p/0 not compiled into module eclipse
   yes.
   [eclipse]: module(b).
   [b]: p.
   yes.
   [b]: q(ho).
   ho.
   yes.


   % example showing use of relative pathnames.
   [eclipse]: sh('ls -FR /home/lp/user/pl').
   a.pl        util/

   /home/lp/user/pl/util:
   b.pl        c.pl

   yes.
   [eclipse]: sh('cat /home/lp/user/pl/a.pl').
   :- compile('util/b').
   p.

   yes.
   [eclipse]: compile('/home/lp/user/pl/a', b).
   /home/lp/user/pl/util/b.pl compiled 92 bytes in 0.00 seconds

   /home/lp/user/pl/a.pl compiled 28 bytes in 0.00 seconds
   yes.

Error:
   compile(file1,M).         (Error 4).
   compile(F,eclipse).         (Error 4).
   compile(file1, "b").      (Error 5).
   compile(file1/1, b).      (Error 5).
   compile(file,eclipse).      (Error 171).



</PRE>
<H2>See Also</H2>
<A HREF="../../kernel/database/compile-1.html">compile / 1</A>, <A HREF="../../kernel/database/compile_stream-1.html">compile_stream / 1</A>, <A HREF="../../kernel/database/compile_term-1.html">compile_term / 1</A>, <A HREF="../../kernel/env/set_flag-2.html">set_flag / 2</A>, <A HREF="../../kernel/modules/use_module-1.html">use_module / 1</A>, <A HREF="../../kernel/directives/pragma-1.html">pragma / 1</A>, <A HREF="../../lib/fcompile/fcompile-1.html">fcompile : fcompile / 1</A>
</BODY></HTML>
