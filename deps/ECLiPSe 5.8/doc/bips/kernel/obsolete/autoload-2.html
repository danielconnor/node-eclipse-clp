<HTML><HEAD><TITLE>autoload(+Library, +ListOfPredSpec)</TITLE>
</HEAD><BODY>[ <A HREF="index.html">Obsolete</A> | <A HREF="../index.html">The ECLiPSe Built-In Predicates</A> | <A HREF="../../index.html">Reference Manual</A> | <A HREF="../../fullindex.html">Alphabetic Index</A> ]
<H1>autoload(+Library, +ListOfPredSpec)</H1>
Declares the predicates in ListOfPredSpec to be autoloading from the module
Library, which is in the file Library.pl in one of the library directories.


<DL>
<DT><EM>+Library</EM></DT>
<DD>Atom.
</DD>
<DT><EM>+ListOfPredSpecList</EM></DT>
<DD>of expressions of the form Atom/Integer.
</DD>
</DL>
<H3>This built-in predicate is obsolete!</H3>
<H2>Description</H2>
   Declares the predicates in the list ListOfPredSpec as defined in the
   file Library.  If any of the specified predicates is called, the system
   looks in the library_path directories for the file Library.pl, compiles
   it using lib/2 and then re-calls the predicate.  The file is supposed to
   contain a module_interface/1 or begin_module/1 directive at its
   beginning but it can be omitted and then Library is used as the module
   name.

<P>
   Predicates declared as autoloaded are always defined as global but note
   that the module directive in a file erases the module completely so that
   the autoloaded procedure (and its visibility) are removed completely
   before being recompiled.  This means that the global declaration must be
   present in the file.

<P>
   The predicate autoload_tool/2 is the same except that all the predicates
   are declared to be tools, using tool/1.

<P>

<H3>Fail Conditions</H3>
   None.


<H3>Resatisfiable</H3>
   No.
<H3>Exceptions</H3>
<DL>
<DT><EM>(4) instantiation fault </EM>
<DD>Library or ListOfPredSpec is not instantiated.
<DT><EM>(5) type error </EM>
<DD>Library is instantiated, but not to an atom.
<DT><EM>(5) type error </EM>
<DD>ListOfPredSpec is instantiated, but not to list a of    expressions of the form Atom/Integer.
<DT><EM>(173) library not found </EM>
<DD>Library file Library.pl not found.  (when calling an    autoloaded predicate)
</DL>
<H2>Examples</H2>
<PRE>
Success:
     [eclipse]: get_flag(library_path, Path),
             get_flag(cwd, Cwd),
             set_flag(library_path, [Cwd | Path]).
     Cwd = "/home/user/"
     Path = ["/usr/local/ECLIPSE/lib"]
     yes.
     [eclipse]: open("my_lib.pl", write, s),
      write(s, ":- module(my_lib).\n"),
      write(s, ":- global p/0.\n"),
      write(s, "p :- write(hello).\n"),
        close(s).
     yes.
     [eclipse]: autoload(my_lib, [p/0]).
     yes.
     [eclipse]: p.  % when p/0 is called, the library is
                  % compiled first, ie. autoloaded.
     loading the library /home/user/my_lib.pl
     hello
     yes.
     [eclipse]: p.  % p/0 is not an autoloaded pred anymore
     hello
     yes.

Error:
     autoload(Lib, [p/0]).               (Error 4).
     autoload(a_lib, L).                 (Error 4).
     autoload(a_lib, [1]).               (Error 5).
     autoload(a_lib, p/0).               (Error 5).
     autoload("a_lib", [p/0]).           (Error 5).
     autoload(no_file, [p/0]).           (Error 173).



</PRE>
<H2>See Also</H2>
<A HREF="../../kernel/database/ensure_loaded-1.html">ensure_loaded / 1</A>, <A HREF="../../kernel/obsolete/autoload_tool-2.html">autoload_tool / 2</A>, <A HREF="../../kernel/database/lib-1.html">lib / 1</A>, <A HREF="../../kernel/obsolete/lib-2.html">lib / 2</A>, <A HREF="../../kernel/obsolete/tool-1.html">tool / 1</A>
</BODY></HTML>
