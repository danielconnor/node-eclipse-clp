<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>API</TITLE>
<META NAME="description" CONTENT="API">
<META NAME="keywords" CONTENT="tutorial">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="tutorial.css">
<LINK REL="next" HREF="node10.html">
<LINK REL="previous" HREF="node8.html">
<LINK REL="up" HREF="node6.html">
<LINK REL="next" HREF="node10.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html470"
 HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html464"
 HREF="node6.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html458"
 HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html466"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html468"
 HREF="node78.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html471"
 HREF="node10.html">High level structure</A>
<B> Up:</B> <A NAME="tex2html465"
 HREF="node6.html">High Level Design</A>
<B> Previous:</B> <A NAME="tex2html459"
 HREF="node8.html">Queries</A>
 &nbsp <B>  <A NAME="tex2html467"
 HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html469"
 HREF="node78.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00330000000000000000">
API</A>
</H1>
The API <A NAME="201"></A>(application programmer's interface) definition should be finished and signed-off by the designers of the main application and of the problem solver before any code is written<A NAME="tex2html4"
 HREF="footnode.html#foot202"><SUP>2.2</SUP></A>. The syntax of each query (predicate) should be defined completely, stating the argument structure and types for both input and outputs. A mode declaration should be used to indicate input and output arguments.
   
An important part of the API definition is the identification of constraints<A NAME="203"></A> attached to the data. Constraints in this context are conditions that the data must satisfy in order to obtain meaningful results. These constraints ensure that the data set is complete, minimal and consistent. 
<DL>
<DT><STRONG>complete</STRONG>
<DD>All data required for the application should be present, with proper links between different records. An example from RiskWise: if an interface of a router is mentioned, then the router to which the interface belongs should be mentioned as well.

<P>
<DT><STRONG>minimal</STRONG>
<DD>The data set should not contain any unneeded information, like duplicated records or references to objects that are not used in the system. 

<P>
<DT><STRONG>consistent</STRONG>
<DD>The data should be consistent overall, so that different records can be used without verifying their correctness every time. This can increase processing speed dramatically, and simplifies the code inside the application.
</DL>
Any constraints identified should be added to the specification of a data record in a numbered list, so that they can be identified easily. The example below shows the constraints attached to the<A NAME="206"></A> 
<PRE>
backbone_line(Node1, Interface1, Node2, Interface2)
</PRE>
structure in RiskWise.

<P>
<DL COMPACT>
<DT>1.
<DD>Each pair (Node, Interface) occurs at most once in the entries. 
<DT>2.
<DD>There can be no entry starting and ending in the same node. 
<DT>3.
<DD>Each node Node1 must have a node/2 fact. 
<DT>4.
<DD>Each node Node2 must have a node/2 fact. 
<DT>5.
<DD>The interface Interface1 cannot be 'local'. 
<DT>6.
<DD>The interface Interface2 cannot be 'local'. 
<DT>7.
<DD>Each pair (Node1, Interface1) must have a bandwidth/5 fact. 
<DT>8.
<DD>Each pair (Node2, Interface2) must have a bandwidth/5 fact. 
<DT>9.
<DD>There can be no backbone line between two net nodes. 
<DT>10.
<DD>There is at most one direct connection between two nodes, each line is uniquely described by the pair (Node1, Node2). 
<DT>11.
<DD>If there is a connection (Node1, Node2) between two nodes, then we cannot have the inverse connection (Node2, Node1) as well. 
</DL>

<P>
For major application interfaces<A NAME="211"></A>, in particular those linking the Java<A NAME="212"></A> and the ECLiPSe side, it is recommended to write specific code checking the data for compliance with the constraints. This simplifies the integration task by either pointing out which data do not satisfy the constraints and are therefore invalid, or by guaranteeing that the data passed are correct, and any problem is on the receiving side of the interface.

<P>
At this point it is also a good idea to write some dummy batch tests which create the proper interface structures to test the queries. These dummy tests must satisfy the constraints on the data, but do not need to contain useful data. They will be used to exercise the interface and the data constraint checks for coverage with consistent data while integration testing is not yet possible.
 
<HR>
<!--Navigation Panel-->
<A NAME="tex2html470"
 HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html464"
 HREF="node6.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html458"
 HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html466"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html468"
 HREF="node78.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html471"
 HREF="node10.html">High level structure</A>
<B> Up:</B> <A NAME="tex2html465"
 HREF="node6.html">High Level Design</A>
<B> Previous:</B> <A NAME="tex2html459"
 HREF="node8.html">Queries</A>
 &nbsp <B>  <A NAME="tex2html467"
 HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html469"
 HREF="node78.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
