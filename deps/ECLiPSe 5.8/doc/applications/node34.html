<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Best and rest</TITLE>
<META NAME="description" CONTENT="Best and rest">
<META NAME="keywords" CONTENT="tutorial">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="tutorial.css">
<LINK REL="next" HREF="node35.html">
<LINK REL="previous" HREF="node33.html">
<LINK REL="up" HREF="node24.html">
<LINK REL="next" HREF="node35.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html981"
 HREF="node35.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html975"
 HREF="node24.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html969"
 HREF="node33.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html977"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html979"
 HREF="node78.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html982"
 HREF="node35.html">Sum</A>
<B> Up:</B> <A NAME="tex2html976"
 HREF="node24.html">Programming Concepts</A>
<B> Previous:</B> <A NAME="tex2html970"
 HREF="node33.html">Minimum</A>
 &nbsp <B>  <A NAME="tex2html978"
 HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html980"
 HREF="node78.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html983"
 HREF="node34.html#SECTION006100010000000000000">Description</A>
<LI><A NAME="tex2html984"
 HREF="node34.html#SECTION006100020000000000000">Parameters</A>
<LI><A NAME="tex2html985"
 HREF="node34.html#SECTION006100030000000000000">Schema</A>
<LI><A NAME="tex2html986"
 HREF="node34.html#SECTION006100040000000000000">Comments</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION006100000000000000000">
Best and rest</A>
</H1>

<H4><A NAME="SECTION006100010000000000000"></A>
<A NAME="666"></A>
<BR>
Description
</H4>This concept is an extension of the minimum concept. It not only returns the best element in the input list, but also the rest of the original list without the best element. This rest can then be used for example to select another element, and so on.

<H4><A NAME="SECTION006100020000000000000">
Parameters</A>
</H4>
<DL>
<DT><STRONG>L</STRONG>
<DD>a list
<DT><STRONG>Best</STRONG>
<DD>a free variable, will be bound to an entry of <I>L</I>
<DT><STRONG>Rest</STRONG>
<DD>a free variable, will be bound to a list of the entries of <I>L</I> without <I>Best</I></DL>
<H4><A NAME="SECTION006100030000000000000">
Schema</A>
</H4>
<PRE>
:-mode best_and_rest(+,-,-).
best_and_rest([H|T],Best,Rest):-
        (foreach(X,T),
         fromto(H,In1,Out1,Best),
         fromto([],In2,Out2,Rest) do
            best(X,In1,Out1,In2,Out2)
        ).

best(X,Y,X,L,[Y|L]):-
        better(X,Y),
        !.
best(X,Y,Y,L,[X|L]).
</PRE>
<H4><A NAME="SECTION006100040000000000000">
Comments</A>
</H4>
The predicate fails if the input list is empty. We must handle that case somewhere else in the program.

<P>
If several elements of the list have the same best value, only the first one is selected. 

<P>
The order of elements in <I>Rest</I> may be quite different from the order in the input list. If that is not acceptable, we must use a different implementation. A rather clever one is given below:

<PRE>
best_and_rest([First|Xs],Best,Rest):-
        (foreach(X,Xs),
         fromto(First,BestSoFar,NextBest,Best),
         fromto(Start,Rest1,Rest2,[]),
         fromto(Start,Head1,Head2,Gap),
         fromto(Rest,Tail1,Tail2,Gap) do
            (better(X,BestSoFar) -&gt;
                NextBest = X,
                Tail1 = [BestSoFar|Head1],
                Tail2 = Rest1,
                Head2 = Rest2
            ;
                NextBest = BestSoFar,
                Tail2 = Tail1,
                Head2 = Head1,
                Rest1 = [X|Rest2]
            )
        ).
</PRE>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html981"
 HREF="node35.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html975"
 HREF="node24.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html969"
 HREF="node33.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html977"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html979"
 HREF="node78.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html982"
 HREF="node35.html">Sum</A>
<B> Up:</B> <A NAME="tex2html976"
 HREF="node24.html">Programming Concepts</A>
<B> Previous:</B> <A NAME="tex2html970"
 HREF="node33.html">Minimum</A>
 &nbsp <B>  <A NAME="tex2html978"
 HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html980"
 HREF="node78.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
