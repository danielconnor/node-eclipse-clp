<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>High level structure</TITLE>
<META NAME="description" CONTENT="High level structure">
<META NAME="keywords" CONTENT="tutorial">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="tutorial.css">
<LINK REL="next" HREF="node11.html">
<LINK REL="previous" HREF="node9.html">
<LINK REL="up" HREF="node6.html">
<LINK REL="next" HREF="node11.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html484"
 HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html478"
 HREF="node6.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html472"
 HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html480"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html482"
 HREF="node78.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html485"
 HREF="node11.html">Modules</A>
<B> Up:</B> <A NAME="tex2html479"
 HREF="node6.html">High Level Design</A>
<B> Previous:</B> <A NAME="tex2html473"
 HREF="node9.html">API</A>
 &nbsp <B>  <A NAME="tex2html481"
 HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html483"
 HREF="node78.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html486"
 HREF="node10.html#SECTION00341000000000000000">Classical LSCO structure</A>
<LI><A NAME="tex2html487"
 HREF="node10.html#SECTION00342000000000000000">Data transformation structure</A>
<LI><A NAME="tex2html488"
 HREF="node10.html#SECTION00343000000000000000">Data flow considerations</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00340000000000000000">
High level structure</A>
</H1>
Once the external API is clearly defined, we can start looking at the next level of internal structure. This will depend on the intended purpose of the system, but we can identify some typical structures that can be found in many applications. Here, we present two typical designs, one for solving combinatorial problems, the other for transforming data.

<P>

<H2><A NAME="SECTION00341000000000000000">
Classical LSCO structure</A>
</H2>
This structure is typical for large scale combinatorial optimization<A NAME="215"></A> (LSCO)<A NAME="216"></A> problems. The flow analysis part of RiskWise follows this structure. It consists of five parts, where each performs one particular task. 

<P></P>
<DIV ALIGN="CENTER"><A NAME="lscoapplicationstructure"></A><A NAME="233"></A>
<TABLE>
<CAPTION><STRONG>Figure 2.3:</STRONG>
LCSO Application structure</CAPTION>
<TR><TD></TD></TR>
</TABLE>
</DIV><P></P>

<DL>
<DT><STRONG>prepare data</STRONG>
<DD>In this module we read the data and prepare the data structures that are required for the problem solver. These data structures should group information that belongs together in one record, and must allow fast access to the data, so that the following application parts can access it easily.
<DT><STRONG>create variables</STRONG>
<DD>This is followed by the variable generation, where we create all variables that will be used in the solver. These variables will simply be placed in slots already provided in the data structures.
<DT><STRONG>create constraints</STRONG>
<DD>Once the variables are in place, we can create the constraints between them. This generation should be done in such a way that we can  disable or exchange constraints easily.
<DT><STRONG>find solution</STRONG>
<DD>Having stated all constraints, we can then find a solution (or the optimal solution) to the problem. This will instantiate the problem variables that we have created in step 2.
<DT><STRONG>output results</STRONG>
<DD>We then have to take the solution and produce the output results, either as data structures, or by creating some result files.
</DL>
It may not be immediately obvious, but it is very important to clearly separate the different phases. For example, it sometimes may seem faster to generate some variables together with the constraints that are set up between them, as this will save at least one scan of the data structure. But at the same time it makes it much more difficult to disable this constraint or to rearrange the constraints in a different order.

<P>
Exceptions to this rule are auxiliary variables which are only introduced to express some constraint and which are not part of the problem variables proper, or constraints that are introduced inside the search process in order to find a solution.

<P>

<H2><A NAME="SECTION00342000000000000000">
Data transformation structure</A>
</H2>
The second high-level design is a data transformation<A NAME="239"></A> structure, used for example in the NDI-Mapper<A NAME="240"></A> application. It consists of three parts.

<P></P>
<DIV ALIGN="CENTER"><A NAME="datatransformationstructure"></A><A NAME="253"></A>
<TABLE>
<CAPTION><STRONG>Figure 2.4:</STRONG>
Data transformation structure</CAPTION>
<TR><TD></TD></TR>
</TABLE>
</DIV><P></P>

<DL>
<DT><STRONG>read input</STRONG>
<DD>In the first module, we read all data into data structures.
<DT><STRONG>transform</STRONG>
<DD>We then use these data structures to create new, transformed data in the tranformation part of the application.
<DT><STRONG>output results</STRONG>
<DD>The last module consists in an output routine, which creates the result data files.
</DL>
The main limitation of this approach is that all data must be loaded into the application (in main memory)<A NAME="258"></A>. This limits the size of the data sets that can be handled to several megabytes. On the other hand, all information can be made available in an efficient way using lookup hash tables or arrays, so that the implementation of the transformation is quite simple.

<P>

<H2><A NAME="SECTION00343000000000000000">
Data flow considerations</A>
</H2>
Once we have decided on a top-level structure, we must consider the input/output arguments of each part. We have to decide which data must be fed into which modules, where new data structures will be created and which other modules require this data. For each piece of information we must identify its source and its possible sinks. Designing these data flows is an iterative process, assigning functionality to modules and making sure that the required information is available. The design aim should be to minimize the amount of information that must be passed across module boundaries and to arrange functions in the correct data flow order, so that all information is produced before it is required in another module.

<P>
It can be helpful to draw a data flow graph<A NAME="260"></A> of the system as a directed graph, showing the main components as nodes and links between sources and sinks of information. A graph of this form should not contain any cycles, and if many links exist between two nodes, we may have to reconsider the split of functionality between. 

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html484"
 HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html478"
 HREF="node6.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html472"
 HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html480"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html482"
 HREF="node78.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html485"
 HREF="node11.html">Modules</A>
<B> Up:</B> <A NAME="tex2html479"
 HREF="node6.html">High Level Design</A>
<B> Previous:</B> <A NAME="tex2html473"
 HREF="node9.html">API</A>
 &nbsp <B>  <A NAME="tex2html481"
 HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html483"
 HREF="node78.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
