<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Serialized representation of EXDR terms</TITLE>
<META NAME="description" CONTENT="Serialized representation of EXDR terms">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="previous" HREF="node47.html">
<LINK REL="up" HREF="node46.html">
<LINK REL="next" HREF="node49.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1455"
 HREF="node49.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1451"
 HREF="node46.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1447"
 HREF="node47.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1453"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1456"
 HREF="node49.html">The Remote Interface Protocol</A>
<B> Up:</B> <A NAME="tex2html1452"
 HREF="node46.html">EXDR Data Interchange Format</A>
<B> Previous:</B> <A NAME="tex2html1448"
 HREF="node47.html">ECLiPSe primitives to read/write</A>
 &nbsp <B>  <A NAME="tex2html1454"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00920000000000000000">
Serialized representation of EXDR terms</A>
</H1>

<P>
The following is the specification of what is actually send over the
communication channels.
This is all the information needed to create new language mappings
for EXDR terms. This definition corresponds to EXDR_VERSION 2:<PRE>
ExdrTerm      ::=   'V' Version CompactFlag? Term
CompactFlag   ::=   'C'
Term          ::=   (Integer|Double|String|List|Nil|Struct|Variable)
Integer       ::=   ('B' &lt;byte&gt; | 'I' XDR_int | 'J' XDR_long)
Double        ::=   'D' XDR_double
String        ::=   ('S' Length &lt;byte&gt;* | 'R' Index)
List          ::=   '[' Term (List|Nil)
Nil           ::=   ']'
Struct        ::=   'F' Arity String Term*
Variable      ::=   '_'
Length        ::=   XDR_nat
Index         ::=   XDR_nat
Arity         ::=   XDR_nat
Version       ::=   &lt;byte&gt;
XDR_int       ::=   &lt;4 bytes, msb first&gt;
XDR_long      ::=   &lt;8 bytes, msb first&gt;
XDR_double    ::=   &lt;8 bytes, ieee double, exponent first&gt;
XDR_nat       ::=   ( &lt;8 bits: 1 + seven bits unsigned value&gt;
                    | XDR_int )                    // &gt;= 0
</PRE>
The version byte is 1 or 2.  EXDR version 1 encodings are also valid
version 2 encodings, and version version 2 decoders can read
version 1 encoded terms.

<P>
XDR_long, XDR_int and byte are all signed integers in two's complement
representation.

<P>
The string reference code R means that the string is the same as the
Index'th S-encoded string that occurred in the EXDR term earlier.
The presence of the CompactFlag C in the header indicates that the term
may actually contain such string references. If the flag is absent, the
term does not contain any.

<BR><HR>
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
