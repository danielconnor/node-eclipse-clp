<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Creating an ECLiPSe context</TITLE>
<META NAME="description" CONTENT="Creating an ECLiPSe context">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node5.html">
<LINK REL="previous" HREF="node3.html">
<LINK REL="up" HREF="node2.html">
<LINK REL="next" HREF="node5.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html718"
 HREF="node5.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html714"
 HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html708"
 HREF="node3.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html716"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html719"
 HREF="node5.html">Control flow</A>
<B> Up:</B> <A NAME="tex2html715"
 HREF="node2.html">Calling ECLiPSe from C++</A>
<B> Previous:</B> <A NAME="tex2html709"
 HREF="node3.html">To get started</A>
 &nbsp <B>  <A NAME="tex2html717"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html720"
 HREF="node4.html#SECTION00221000000000000000">Initialisation</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00220000000000000000">
Creating an ECLiPSe context</A>
</H1>

<P>
ECLiPSe runs as a special thread (we will call it ECLiPSe engine) within
your application,
maintaining its own execution state. This section is about when and
how to initialise it. There are parameters to be applied before
initialisation, but these are usually acceptable. These parameters are
described in Appendix&nbsp;<A HREF="node56.html#chapecoptions">A</A>.

<P>
Although it is useful to think of ECLiPSe as a thread, it is not an
<A NAME="349"></A>
operating system thread, but is rather implemented as a set of C
functions that maintain some state. This state is the complete
execution state of the ECLiPSe engine, its stack of goals, its
success and failure continuations and its global stack of all
constructed data.

<P>
At particular points during its execution ECLiPSe will yield control
back to the C level. This is implemented by returning from a function.
ECLiPSe can then be restarted from the exact point it left off. This
is implemented by a function call.

<P>

<H2><A NAME="SECTION00221000000000000000">
Initialisation</A>
</H2>

<P>
You initialise ECLiPSe by calling the parameterless function
<A NAME="355"></A>
<PRE>
    int ec_init();
</PRE>

<P>
A process should do this just once. <code>ec_init</code> returns 0 on success or
-1 if an error occurred. It is possible to influence the initialisation of
ECLiPSe by setting initialisation options as described in
Appendix&nbsp;<A HREF="node56.html#chapecoptions">A</A>.

<P>
None of the functions of the interface work before this initialisation. In
particular in C++, if you use static variables which are
constructed by calling ECLiPSe functions you must arrange for the
initialisation to occur before the constructors are called.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html718"
 HREF="node5.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html714"
 HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html708"
 HREF="node3.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html716"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html719"
 HREF="node5.html">Control flow</A>
<B> Up:</B> <A NAME="tex2html715"
 HREF="node2.html">Calling ECLiPSe from C++</A>
<B> Previous:</B> <A NAME="tex2html709"
 HREF="node3.html">To get started</A>
 &nbsp <B>  <A NAME="tex2html717"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
