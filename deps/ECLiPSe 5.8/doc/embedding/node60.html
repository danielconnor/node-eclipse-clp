<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Referring to ECLiPSe terms from C++</TITLE>
<META NAME="description" CONTENT="Referring to ECLiPSe terms from C++">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node61.html">
<LINK REL="previous" HREF="node59.html">
<LINK REL="up" HREF="node57.html">
<LINK REL="next" HREF="node61.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1626"
 HREF="node61.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1622"
 HREF="node57.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1616"
 HREF="node59.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1624"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1627"
 HREF="node61.html">Passing Data to and</A>
<B> Up:</B> <A NAME="tex2html1623"
 HREF="node57.html">Summary of C++ Interface</A>
<B> Previous:</B> <A NAME="tex2html1617"
 HREF="node59.html">Decomposing ECLiPSe terms in</A>
 &nbsp <B>  <A NAME="tex2html1625"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001230000000000000000">
Referring to ECLiPSe terms from C++</A>
</H1>
The data types EC_refs and EC_ref provide a means to have non-volatile
references to ECLiPSe data from within C++ data structures. However,
it must be kept in mind that ECLiPSe data structures are nevertheless
subject to backtracking, which means they may be reset to an earlier
status when the search engine requires it. Creating a reference to
a data structure does not change that in any way. In particular, 
when the search engine fails beyond the state where the reference was
set up, the reference disappears and is also reset to its earlier value.
<DL>
<DT><STRONG>EC_refs(int n)</STRONG>
<DD> 
<BR>
create a data structure capable of holding n non-volatile
	references to ECLiPSe data items. They are each initialised
	with a freshly created ECLiPSe variable.

<P>
<DT><STRONG>EC_refs(int n,EC_word pw)</STRONG>
<DD> 
<BR>
create a data structure capable of holding n non-volatile
	references to ECLiPSe data items. They are all initialised
	with the value pw, which must be of a simple type.

<P>
<DT><STRONG><code>~</code>EC_refs()</STRONG>
<DD> 
<BR>
destroy the ECLiPSe references. It is important that this
	is done, otherwise the ECLiPSe garbage collector will not
	be able to free the references data structures, which may
	eventually lead to memory overflow.

<P>
<DT><STRONG>EC_word EC_refs::operator[](int i)</STRONG>
<DD> 
<BR>
return the ECLiPSe term referred to by the i'th reference.

<P>
<DT><STRONG>void EC_refs::set(int i, EC_word new)</STRONG>
<DD> 
<BR>
assign the term new to the i'th reference.
	This is a backtrackable operation very similar to
	<A NAME="tex2html440"
 HREF="../bips/kernel/termmanip/setarg-3.html">setarg/3</A><A NAME="8220"></A>.

<P>
<DT><STRONG>EC_word list(EC_refs&amp;)</STRONG>
<DD> 
<BR>
creates an ECLiPSe list containing all the elements of the EC_refs.

<P>
<DT><STRONG>EC_ref()</STRONG>
<DD> 
<BR>
<DT><STRONG>EC_ref(EC_word pw)</STRONG>
<DD> 
<BR>
<DT><STRONG><code>~</code>EC_ref()</STRONG>
<DD> 
<BR>
analogous to the corresponding EC_refs constructors/destructor.

<P>
<DT><STRONG>EC_ref&amp; operator=(const EC_word)</STRONG>
<DD> 
<BR>
assign a value to the EC_ref.

<P>
<DT><STRONG>EC_word(const EC_ref&amp;)</STRONG>
<DD> 
<BR>
retrieves the ECLiPSe term referenced by the EC_ref.
</DL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1626"
 HREF="node61.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1622"
 HREF="node57.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1616"
 HREF="node59.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1624"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1627"
 HREF="node61.html">Passing Data to and</A>
<B> Up:</B> <A NAME="tex2html1623"
 HREF="node57.html">Summary of C++ Interface</A>
<B> Previous:</B> <A NAME="tex2html1617"
 HREF="node59.html">Decomposing ECLiPSe terms in</A>
 &nbsp <B>  <A NAME="tex2html1625"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
