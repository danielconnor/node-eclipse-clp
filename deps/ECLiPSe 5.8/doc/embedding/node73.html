<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Communication via ECLiPSe Streams</TITLE>
<META NAME="description" CONTENT="Communication via ECLiPSe Streams">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node74.html">
<LINK REL="previous" HREF="node72.html">
<LINK REL="up" HREF="node65.html">
<LINK REL="next" HREF="node74.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1789"
 HREF="node74.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1785"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1779"
 HREF="node72.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1787"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1790"
 HREF="node74.html">Miscellaneous</A>
<B> Up:</B> <A NAME="tex2html1786"
 HREF="node65.html">Summary of C Interface</A>
<B> Previous:</B> <A NAME="tex2html1780"
 HREF="node72.html">Passing Control and Data</A>
 &nbsp <B>  <A NAME="tex2html1788"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001380000000000000000">
Communication via ECLiPSe Streams</A>
</H1>
These functions allow exchanging data with an embedded ECLiPSe via
queue streams created by the ECLiPSe code.
Queue streams can be created either by using
<A NAME="tex2html466"
 HREF="../bips/kernel/iostream/open-3.html">open/3</A><A NAME="8517"></A> and
<A NAME="tex2html468"
 HREF="../bips/kernel/iostream/open-4.html">open/4</A><A NAME="8520"></A>
from within
ECLiPSe code, or by initializing ECLiPSe with the MEMORY_IO option.
In the latter case, the streams 0, 1 and 2 are queues corresponding
to ECLiPSe's input, output and error streams.
<DL>
<DT><STRONG>int		ec_queue_write(int stream, char *data, int size)</STRONG>
<DD> 
<BR>
Write string data into the specified ECLiPSe queue stream.
	Data points to the data and size is the number of bytes to write.
	The return value is 0 for success, or a negative error number.

<P>
<DT><STRONG>int		ec_queue_read(int stream, char *buf, int size)</STRONG>
<DD> 
<BR>
Read string data into the specified ECLiPSe queue stream.
	Buf points to a data buffer and size is the buffer size.
	The return value is either a negative error code, or the number
	of bytes read into buffer.

<P>
<DT><STRONG>int		ec_queue_avail(int stream)</STRONG>
<DD> 
<BR>
Determines the number of bytes that are available and can be
	read from the given queue stream.  The return value is either
	that number or a negative error code.

<P>
<DT><STRONG>int		ec_stream_nr(char *name)</STRONG>
<DD> 
<BR>
Get the stream number of the named stream. If the return value
	is negative then there is no open stream with the specified name.
        This is the same operation that the ECLiPSe built-in
        <A NAME="tex2html470"
 HREF="../bips/kernel/iostream/get_stream-2.html">get_stream/2</A><A NAME="8523"></A>

performs). 
</DL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1789"
 HREF="node74.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1785"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1779"
 HREF="node72.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1787"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1790"
 HREF="node74.html">Miscellaneous</A>
<B> Up:</B> <A NAME="tex2html1786"
 HREF="node65.html">Summary of C Interface</A>
<B> Previous:</B> <A NAME="tex2html1780"
 HREF="node72.html">Passing Control and Data</A>
 &nbsp <B>  <A NAME="tex2html1788"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
