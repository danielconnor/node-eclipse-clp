<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Constructing ECLiPSe terms in C</TITLE>
<META NAME="description" CONTENT="Constructing ECLiPSe terms in C">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node67.html">
<LINK REL="previous" HREF="node65.html">
<LINK REL="up" HREF="node65.html">
<LINK REL="next" HREF="node67.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1705"
 HREF="node67.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1701"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1695"
 HREF="node65.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1703"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1706"
 HREF="node67.html">Decomposing ECLiPSe terms in</A>
<B> Up:</B> <A NAME="tex2html1702"
 HREF="node65.html">Summary of C Interface</A>
<B> Previous:</B> <A NAME="tex2html1696"
 HREF="node65.html">Summary of C Interface</A>
 &nbsp <B>  <A NAME="tex2html1704"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001310000000000000000">
Constructing ECLiPSe terms in C</A>
</H1>
All these functions return (volatile) pwords, which can be used as input
to other constructor functions, or which can be stored in (non-volatile)
ec_refs.

<P>
<DL>
<DT><STRONG>pword		ec_string(const char*)</STRONG>
<DD> 
<BR>
converts a C string to an ECLiPSe string. The string is copied.

<P>
<DT><STRONG>pword		ec_length_string(int, const char*)</STRONG>
<DD> 
<BR>
converts a C string of given length to an ECLiPSe string.
	The string is copied and can contain NUL bytes.

<P>
<DT><STRONG>pword		ec_atom(const dident)</STRONG>
<DD> 
<BR>
creates an ECLiPSe atom. A dident (dictionary identifier)
	can be obtained either via ec_did() or ec_get_atom().

<P>
<DT><STRONG>pword		ec_long(const long)</STRONG>
<DD> 
<BR>
converts a C long to an ECLiPSe integer.

<P>
<DT><STRONG>pword		ec_double(const double)</STRONG>
<DD> 
<BR>
converts a C double to an ECLiPSe float.

<P>
<DT><STRONG>pword		ec_term(dident,pword,pword,...)</STRONG>
<DD> 
<BR>
creates an ECLiPSe term from the given components.

<P>
<DT><STRONG>pword		ec_term_array(const dident,const pword[])</STRONG>
<DD> 
<BR>
creates an ECLiPSe term from the arguments given in the array.

<P>
<DT><STRONG>pword		ec_list(const pword,const pword)</STRONG>
<DD> 
<BR>
creates a single ECLiPSe list cell with the given head (car) and tail (cdr).

<P>
<DT><STRONG>pword		ec_listofrefs(ec_refs)</STRONG>
<DD> 
<BR>
creates an ECLiPSe list containing the elements of the ec_refs array.

<P>
<DT><STRONG>pword		ec_listoflong(int, const long*)</STRONG>
<DD> 
<BR>
creates an ECLiPSe list of integers containing the longs in the given array.
	The data is copied.

<P>
<DT><STRONG>pword		ec_listofchar(int, const char*)</STRONG>
<DD> 
<BR>
creates an ECLiPSe list of integers containing the chars in the given array.
	The data is copied.

<P>
<DT><STRONG>pword		ec_listofdouble(int, const double*)</STRONG>
<DD> 
<BR>
creates an ECLiPSe list of doubles containing the doubles in the given array.
	The data is copied.

<P>
<DT><STRONG>pword		ec_arrayofdouble(int, const double*)</STRONG>
<DD> 
<BR>
creates an ECLiPSe array (a structure with functor []of
	appropriate arity) of doubles from the given C array.
	The data is copied.

<P>
<DT><STRONG>pword		ec_matrixofdouble(int rows, int cols, const double*)</STRONG>
<DD> 
<BR>
creates an ECLiPSe array (size rows) of arrays (size cols) of doubles
	from the given C array.  The data is copied.

<P>
<DT><STRONG>pword		ec_handle(const t_ext_type*,const t_ext_ptr)</STRONG>
<DD> 
<BR>
creates an ECLiPSe handle that refers to the given C data and its
	method table.

<P>
<DT><STRONG>pword		ec_newvar()</STRONG>
<DD> 
<BR>
creates a fresh ECLiPSe variable.

<P>
<DT><STRONG>pword		ec_nil()</STRONG>
<DD> 
<BR>
creates an ECLiPSe nil ie. the empty list [].
</DL>

<P>
Auxiliary functions to access the ECLiPSe dictionary.
<DL>
<DT><STRONG>dident		ec_did(char*,int)</STRONG>
<DD> 
<BR>
looks up or enters the given string with arity into the ECLiPSe
	dictionary and returns a unique identifier for it.
<DT><STRONG>char*		DidName(dident)</STRONG>
<DD> 
<BR>
returns the name string of the given dictionary identifier.
<DT><STRONG>int		DidArity(dident)</STRONG>
<DD> 
<BR>
returns the arity of the given dictionary identifier.
</DL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1705"
 HREF="node67.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1701"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1695"
 HREF="node65.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1703"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1706"
 HREF="node67.html">Decomposing ECLiPSe terms in</A>
<B> Up:</B> <A NAME="tex2html1702"
 HREF="node65.html">Summary of C Interface</A>
<B> Previous:</B> <A NAME="tex2html1696"
 HREF="node65.html">Summary of C Interface</A>
 &nbsp <B>  <A NAME="tex2html1704"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
