<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Referring to ECLiPSe terms from C</TITLE>
<META NAME="description" CONTENT="Referring to ECLiPSe terms from C">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node69.html">
<LINK REL="previous" HREF="node67.html">
<LINK REL="up" HREF="node65.html">
<LINK REL="next" HREF="node69.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1729"
 HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1725"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1719"
 HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1727"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1730"
 HREF="node69.html">Passing Data to and</A>
<B> Up:</B> <A NAME="tex2html1726"
 HREF="node65.html">Summary of C Interface</A>
<B> Previous:</B> <A NAME="tex2html1720"
 HREF="node67.html">Decomposing ECLiPSe terms in</A>
 &nbsp <B>  <A NAME="tex2html1728"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001330000000000000000">
Referring to ECLiPSe terms from C</A>
</H1>
The data types ec_refs and ec_ref provide a means to have non-volatile
references to ECLiPSe data from within C data structures. However,
it must be kept in mind that ECLiPSe data structures are nevertheless
subject to backtracking, which means they may be reset to an earlier
status when the search engine requires it. Creating a reference to
a data structure does not change that in any way. In particular, 
when the search engine fails beyond the state where the reference was
set up, the reference disappears and is also reset to its earlier value.
<DL>
<DT><STRONG>ec_refs		ec_refs_create(int n,const pword pw)</STRONG>
<DD> 
<BR>
create a data structure capable of holding n non-volatile
	references to ECLiPSe data items. They are initialised
	with the value pw, which must be of a simple type.

<P>
<DT><STRONG>ec_refs		ec_refs_create_newvars(int)</STRONG>
<DD> 
<BR>
like ec_refs_create(), but each item is initialised to
	a freshly created ECLiPSe variable.

<P>
<DT><STRONG>void		ec_refs_destroy(ec_refs)</STRONG>
<DD> 
<BR>
destroy the ECLiPSe references. It is important that this
	is done, otherwise the ECLiPSe garbage collector will not
	be able to free the references data structures, which may
	eventually lead to memory overflow.

<P>
<DT><STRONG>void		ec_refs_set(ec_refs,int i,const pword pw)</STRONG>
<DD> 
<BR>
set the i'th reference to the ECLiPSe term pw. This setting is
	subject to the ECLiPSe engine's undo-mechanism on backtracking.

<P>
<DT><STRONG>pword		ec_refs_get(const ec_refs,int i)</STRONG>
<DD> 
<BR>
return the ECLiPSe term referred to by the i'th reference.

<P>
<DT><STRONG>int		ec_refs_size(const ec_refs)</STRONG>
<DD> 
<BR>
return the capacity of the ec_refs data structure.

<P>
<DT><STRONG>ec_ref		ec_ref_create(pword)</STRONG>
<DD> 
<BR>
like ec_refs_create() for a single reference.

<P>
<DT><STRONG>ec_ref		ec_ref_create_newvar()</STRONG>
<DD> 
<BR>
analogous to ec_refs_create_newvars().

<P>
<DT><STRONG>void		ec_ref_destroy(ec_ref)</STRONG>
<DD> 
<BR>
analogous to ec_refs_destroy().

<P>
<DT><STRONG>void		ec_ref_set(ec_ref,const pword)</STRONG>
<DD> 
<BR>
analogous to ec_refs_set().

<P>
<DT><STRONG>pword		ec_ref_get(const ec_ref)</STRONG>
<DD> 
<BR>
analogous to ec_refs_get().
</DL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1729"
 HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1725"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1719"
 HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1727"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1730"
 HREF="node69.html">Passing Data to and</A>
<B> Up:</B> <A NAME="tex2html1726"
 HREF="node65.html">Summary of C Interface</A>
<B> Previous:</B> <A NAME="tex2html1720"
 HREF="node67.html">Decomposing ECLiPSe terms in</A>
 &nbsp <B>  <A NAME="tex2html1728"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
