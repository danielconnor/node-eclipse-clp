<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Example</TITLE>
<META NAME="description" CONTENT="Example">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node33.html">
<LINK REL="previous" HREF="node31.html">
<LINK REL="up" HREF="node24.html">
<LINK REL="next" HREF="node33.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1151"
 HREF="node33.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1147"
 HREF="node24.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1141"
 HREF="node31.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1149"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1152"
 HREF="node33.html">Differences From the Tcl</A>
<B> Up:</B> <A NAME="tex2html1148"
 HREF="node24.html">Remote Tcl Interface</A>
<B> Previous:</B> <A NAME="tex2html1142"
 HREF="node31.html">Additional Control and Support</A>
 &nbsp <B>  <A NAME="tex2html1150"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00680000000000000000">
Example</A>
</H1>

<P>

<P></P>
<DIV ALIGN="CENTER"><A NAME="remote-eclipse"></A><A NAME="2493"></A>
<TABLE>
<CAPTION><STRONG>Figure:</STRONG>
Example use of interface: ECLiPSe code</CAPTION>
<TR><TD><IMG
 WIDTH="695" HEIGHT="513" BORDER="0"
 SRC="img1.gif"
 ALT="\begin{figure}
\begin{verbatim}% Tcl side will create the from-ECLiPSe queue gui...
...Control explicitly
tclyield :-
remote_yield(control).\end{verbatim}\end{figure}"></TD></TR>
</TABLE>
</DIV><P></P>

<P>

<P></P>
<DIV ALIGN="CENTER"><A NAME="remote-tcl"></A><A NAME="2422"></A>
<TABLE>
<CAPTION><STRONG>Figure 6.2:</STRONG>
Example use of interface: Tcl code</CAPTION>
<TR><TD><IMG
 WIDTH="609" HEIGHT="929" BORDER="0"
 SRC="img2.gif"
 ALT="\begin{figure}
{\small\begin{verbatim} ..."></TD></TR>
</TABLE>
</DIV><P></P>

<P>
Figures&nbsp;<A HREF="node32.html#remote-eclipse">6.1</A> and <A HREF="node32.html#remote-tcl">6.2</A> shows a simple example of
the use of the interface. To try this program, the user should start an
ECLiPSe, compile the ECLiPSe program. This will suspend on the
<code>remote_connect/3</code>, waiting for the Tcl program to attach. The Tcl
program should then be started on the same machine, and the attachment will
be connected using the fixed host and port address. During the
initialisation when attaching, 
a from-ECLiPSe queue is created, which is set
to flush at every newline. This is done by an <B>ec_rpc</B> goal after the
queue is created. As no Tcl data consumer handler is specified, the default
Tcl data consumer handler <B>ec_stream_output_popup</B> handles and display the data on the Tcl side on a
pop-up window. The Tcl side
GUI has just one button which allows the application to terminate. This
button is disabled when ECLiPSe side has control, and this is done by
setting up the appropriate call-backs to disable and enable the button in
<I>ec_running_set_commands</I> on the Tcl side.

<P>
On disconnection, which can be initiated either by pressing the button on
the Tcl side, or by quitting from ECLiPSe, the handlers for
disconnection ensures that both the ECLiPSe and Tcl program terminates. 

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1151"
 HREF="node33.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1147"
 HREF="node24.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1141"
 HREF="node31.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1149"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1152"
 HREF="node33.html">Differences From the Tcl</A>
<B> Up:</B> <A NAME="tex2html1148"
 HREF="node24.html">Remote Tcl Interface</A>
<B> Previous:</B> <A NAME="tex2html1142"
 HREF="node31.html">Additional Control and Support</A>
 &nbsp <B>  <A NAME="tex2html1150"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
