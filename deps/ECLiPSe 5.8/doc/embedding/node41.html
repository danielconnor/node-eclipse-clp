<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Functionality overview: A closer look at QuickTest.java</TITLE>
<META NAME="description" CONTENT="Functionality overview: A closer look at QuickTest.java">
<META NAME="keywords" CONTENT="embroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="embroot.css">
<LINK REL="next" HREF="node42.html">
<LINK REL="previous" HREF="node40.html">
<LINK REL="up" HREF="node39.html">
<LINK REL="next" HREF="node42.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1323"
 HREF="node42.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1319"
 HREF="node39.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1313"
 HREF="node40.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1321"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1324"
 HREF="node42.html">Java representation of ECLiPSe</A>
<B> Up:</B> <A NAME="tex2html1320"
 HREF="node39.html">Using the Java-ECLiPSe Interface</A>
<B> Previous:</B> <A NAME="tex2html1314"
 HREF="node40.html">Getting Started</A>
 &nbsp <B>  <A NAME="tex2html1322"
 HREF="node76.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html1325"
 HREF="node41.html#SECTION00820100000000000000">Always import the <TT>com.parctechnologies.eclipse</TT> package</A>
<LI><A NAME="tex2html1326"
 HREF="node41.html#SECTION00820200000000000000">Declare a reference to an <I>EclipseConnection</I> or an <I>EclipseEngine</I></A>
<LI><A NAME="tex2html1327"
 HREF="node41.html#SECTION00820300000000000000">Create an object which implements <I>EclipseConnection</I> or <I>EclipseEngine</I></A>
<LI><A NAME="tex2html1328"
 HREF="node41.html#SECTION00820400000000000000">Interact with ECLiPSe using methods in the <I>EclipseConnection</I> or <I>EclipseEngine</I> interface</A>
<LI><A NAME="tex2html1329"
 HREF="node41.html#SECTION00820500000000000000">Terminate interaction with the ECLiPSe</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00820000000000000000"></A>
<A NAME="sec:ji-closer-look"></A>
<BR>
Functionality overview: A closer look at <TT>QuickTest.java</TT>
</H1>

<P>
To give a broad overview of how the Java-ECLiPSe Interface works,
we take a closer look at <TT>QuickTest.java</TT>. Here is the Java source
code from <TT>QuickTest.java</TT>.
<PRE>
import com.parctechnologies.eclipse.*;
import java.io.*;

public class QuickTest
{
  public static void main(String[] args) throws Exception
  {
    // Create some default Eclipse options
    EclipseEngineOptions eclipseEngineOptions = new EclipseEngineOptions();

    // Object representing the Eclipse engine
    EclipseEngine eclipse;

    // Connect the Eclipse's standard streams to the JVM's
    eclipseEngineOptions.setUseQueues(false);

    // Initialise Eclipse
    eclipse = EmbeddedEclipse.getInstance(eclipseEngineOptions);

    // Write a message
    eclipse.rpc("write(output, 'hello world'), flush(output)");

    // Destroy the Eclipse engine
    ((EmbeddedEclipse) eclipse).destroy();
  }
}
</PRE>

<P>
The structure of the <TT>main</TT> method in <TT>QuickTest.java</TT>
contains elements which will appear in any Java code which uses the
Java-ECLiPSe interface. These are as follows:

<P>

<H3><A NAME="SECTION00820100000000000000">
Always import the <TT>com.parctechnologies.eclipse</TT> package</A>
</H3>
Note the first line using <TT>import</TT>. We need to have this in every
Java source file which uses the Java-ECLiPSe Interface so that it can
load classes from the package.

<P>

<H3><A NAME="SECTION00820200000000000000">
Declare a reference to an <I>EclipseConnection</I> or an <I>EclipseEngine</I></A>
</H3>

<P>
<I>EclipseConnection</I> <A NAME="3695"></A> and its
subinterface <I>EclipseEngine</I> <A NAME="3697"></A> are Java
interfaces which contain the methods used when interacting with ECLiPSe.

<P>

<H3><A NAME="SECTION00820300000000000000">
Create an object which implements <I>EclipseConnection</I> or <I>EclipseEngine</I></A>
</H3>
There are a number of classes which implement these interfaces. In the case
of <TT>QuickTest.java</TT> we use an instance of <I>EmbeddedEclipse</I>
<A NAME="3703"></A>. The initialisation of these implementing
classes varies from class to class. In the case of <I>EmbeddedEclipse</I>
initialisation is done by creating and configuring an <I>EclipseEngineOptions</I> object and using this in an invocation of the <I>EmbeddedEclipse</I> class' static method <TT>getInstance</TT>.

<P>

<H3><A NAME="SECTION00820400000000000000">
Interact with ECLiPSe using methods in the <I>EclipseConnection</I> or <I>EclipseEngine</I> interface</A>
</H3>

<P>
We interact with the ECLiPSe engine by invoking methods on the object
which implements <I>EclipseConnection</I> <A NAME="3713"></A> or <I>EclipseEngine</I> <A NAME="3715"></A>. In the
case of <TT>QuickTest.java</TT> we invoke the <TT>rpc</TT><A NAME="3718"></A> method, which causes
the ECLiPSe to execute a goal, in this case one which simply prints a
message.

<P>

<H3><A NAME="SECTION00820500000000000000">
Terminate interaction with the ECLiPSe</A>
</H3>
In order to clean up, after the Java program has finished interacting
with ECLiPSe, the interaction should be terminated. Like
initialisation, how this termination is done varies among the classes
which implement the <I>EclipseConnection</I> and <I>EclipseEngine</I>
interfaces.  In the case of <TT>QuickTest.java</TT>, termination is done
by invoking the <TT>destroy</TT> method on the <I>EmbeddedEclipse</I>
object.<A NAME="3727"></A>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1323"
 HREF="node42.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html1319"
 HREF="node39.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html1313"
 HREF="node40.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html1321"
 HREF="node76.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1324"
 HREF="node42.html">Java representation of ECLiPSe</A>
<B> Up:</B> <A NAME="tex2html1320"
 HREF="node39.html">Using the Java-ECLiPSe Interface</A>
<B> Previous:</B> <A NAME="tex2html1314"
 HREF="node40.html">Getting Started</A>
 &nbsp <B>  <A NAME="tex2html1322"
 HREF="node76.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
