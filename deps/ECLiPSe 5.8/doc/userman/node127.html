<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Environment Access</TITLE>
<META NAME="description" CONTENT="Environment Access">
<META NAME="keywords" CONTENT="umsroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="umsroot.css">
<LINK REL="next" HREF="node128.html">
<LINK REL="previous" HREF="node126.html">
<LINK REL="up" HREF="node125.html">
<LINK REL="next" HREF="node128.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html4151"
 HREF="node128.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html4147"
 HREF="node125.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html4141"
 HREF="node126.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html4149"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html4152"
 HREF="node128.html">File System</A>
<B> Up:</B> <A NAME="tex2html4148"
 HREF="node125.html">Operating System Interface</A>
<B> Previous:</B> <A NAME="tex2html4142"
 HREF="node126.html">Introduction</A>
 &nbsp <B>  <A NAME="tex2html4150"
 HREF="node158.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html4153"
 HREF="node127.html#SECTION002021000000000000000">Command Line Arguments</A>
<LI><A NAME="tex2html4154"
 HREF="node127.html#SECTION002022000000000000000">Environment Variables</A>
<LI><A NAME="tex2html4155"
 HREF="node127.html#SECTION002023000000000000000">Exiting ECLiPSe</A>
<LI><A NAME="tex2html4156"
 HREF="node127.html#SECTION002024000000000000000">Time and Date</A>
<LI><A NAME="tex2html4157"
 HREF="node127.html#SECTION002025000000000000000">Host Computer</A>
<LI><A NAME="tex2html4158"
 HREF="node127.html#SECTION002026000000000000000">Calling C Functions</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION002020000000000000000">
Environment Access</A>
</H1>
A number of predicates and global flags is provided to get more or less
useful information from the operating system environment.

<H2><A NAME="SECTION002021000000000000000">
Command Line Arguments</A>
</H2>
Arguments provided on the UNIX (or DOS) command line are accessed by the builtins
<A NAME="12092"></A>
<A NAME="12093"></A>
<A NAME="12094"></A>
<A NAME="tex2html1623"
 HREF="../bips/kernel/opsys/argc-1.html">argc/1</A><A NAME="12326"></A> which gives the number of command line arguments (including
the command name itself) and <A NAME="tex2html1625"
 HREF="../bips/kernel/opsys/argv-2.html">argv/2</A><A NAME="12329"></A> which returns a requested positional
argument in string form. If the first argument of <B>argv/2</B> is the atom
all, then a list of all command line arguments is returned.

<P>

<H2><A NAME="SECTION002022000000000000000">
Environment Variables</A>
</H2>
On UNIX, environment variables are another way to pass information to the
ECLiPSe process. Their string value can be read using <A NAME="tex2html1627"
 HREF="../bips/kernel/opsys/getenv-2.html">getenv/2</A><A NAME="12332"></A>:
<A NAME="12104"></A><PRE>
[eclipse 1]: getenv('HOME', Home).

Home = "/usr/octopus"
yes.
</PRE>

<P>
The environment variables available on Window is version dependent, and is
not a recommended method of passing information.

<P>

<H2><A NAME="SECTION002023000000000000000">
Exiting ECLiPSe</A>
</H2>
When ECLiPSe is exited, it can give a return code to the operating system.
This is done by using <A NAME="tex2html1630"
 HREF="../bips/kernel/opsys/exit-1.html">exit/1</A><A NAME="12335"></A>. It exits ECLiPSe and returns its integer
argument to the operating system.
<A NAME="12114"></A>
<A NAME="12115"></A><PRE>
[eclipse 1]: exit(99).
csh% echo $status
99
</PRE>
Note that <B>halt</B> is equivalent to <B>exit(0)</B>.

<P>

<H2><A NAME="SECTION002024000000000000000">
Time and Date</A>
</H2>
The current date can be obtained in the form of a UNIX date string:<PRE>
[eclipse 1]: date(Today).

Today = "Tue May 29 20:49:39 1990\n"
yes.
</PRE>
The library <B>calendar</B> contains a utility predicate to convert
this string into a Prolog structure.
Another way to access the current time and date is the global flag
<B>unix_time</B>. It returns the current time in the traditional UNIX
measure, i.e. in seconds since 00:00:00 GMT Jan 1, 1970:<PRE>
[eclipse 1]: get_flag(unix_time, Now).

Now = 644008011
yes.
</PRE>
Other interesting timings concern the resource usage of the running ECLiPSe.
The <A NAME="tex2html1634"
 HREF="../bips/kernel/env/statistics-2.html">statistics/2</A><A NAME="12338"></A> builtin gives three different times, the user
cpu time, the system cpu time and the elapsed real time since
the process was started (all in seconds):<PRE>
[eclipse 1]: statistics(times, Used).

Used = [0.916667, 1.61667, 2458.88]
yes.
</PRE>
The first figure (user cpu time) is the same as given by <A NAME="tex2html1636"
 HREF="../bips/kernel/opsys/cputime-1.html">cputime/1</A><A NAME="12341"></A>.

<P>

<H2><A NAME="SECTION002025000000000000000">
Host Computer</A>
</H2>
Access to the name and unique identification of the host computer where
the system is running can be obtained by the two global flags
<A NAME="12143"></A>
<A NAME="12144"></A>
<A NAME="12145"></A>
<B>hostname</B> and <B>hostid</B>, accessed via <A NAME="tex2html1641"
 HREF="../bips/kernel/env/get_flag-2.html">get_flag/2</A><A NAME="12344"></A> or
<A NAME="tex2html1643"
 HREF="../bips/kernel/env/env-0.html">env/0</A><A NAME="12347"></A>. These flags might not be available on all machines,
<A NAME="tex2html1645"
 HREF="../bips/kernel/env/get_flag-2.html">get_flag/2</A><A NAME="12350"></A> fails in these cases.

<P>

<H2><A NAME="SECTION002026000000000000000">
Calling C Functions</A>
</H2>
Other data may be obtained with the predicate <A NAME="tex2html1647"
 HREF="../bips/kernel/externals/call_c-2.html">call_c/2</A><A NAME="12353"></A>
which allows to call directly any C function which is
linked to the Prolog system.
Functions which are not linked can be loaded dynamically with the
<A NAME="tex2html1649"
 HREF="../bips/kernel/externals/load-1.html">load/1</A><A NAME="12356"></A> predicate.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html4151"
 HREF="node128.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html4147"
 HREF="node125.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html4141"
 HREF="node126.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html4149"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html4152"
 HREF="node128.html">File System</A>
<B> Up:</B> <A NAME="tex2html4148"
 HREF="node125.html">Operating System Interface</A>
<B> Previous:</B> <A NAME="tex2html4142"
 HREF="node126.html">Introduction</A>
 &nbsp <B>  <A NAME="tex2html4150"
 HREF="node158.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
