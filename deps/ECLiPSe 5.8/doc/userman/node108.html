<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Suspending Built-Ins and the Suspend-Library</TITLE>
<META NAME="description" CONTENT="Suspending Built-Ins and the Suspend-Library">
<META NAME="keywords" CONTENT="umsroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="umsroot.css">
<LINK REL="next" HREF="node109.html">
<LINK REL="previous" HREF="node107.html">
<LINK REL="up" HREF="node105.html">
<LINK REL="next" HREF="node109.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html3876"
 HREF="node109.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html3872"
 HREF="node105.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html3866"
 HREF="node107.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html3874"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html3877"
 HREF="node109.html">Development System Support</A>
<B> Up:</B> <A NAME="tex2html3873"
 HREF="node105.html">Advanced Control Features</A>
<B> Previous:</B> <A NAME="tex2html3867"
 HREF="node107.html">Concepts</A>
 &nbsp <B>  <A NAME="tex2html3875"
 HREF="node158.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001730000000000000000">
Suspending Built-Ins and the Suspend-Library</A>
</H1>

<P>
Basic ECLiPSe has two built-in predicates whose behaviour includes
suspending: the sound negation built-in
<A NAME="tex2html1382"
 HREF="../bips/kernel/control/T-1.html"><IMG
 WIDTH="22" HEIGHT="21" ALIGN="BOTTOM" BORDER="0"
 SRC="img12.gif"
 ALT="$\sim$">/1</A><A NAME="10803"></A> and the sound disequality
predicate <A NAME="tex2html1384"
 HREF="../bips/kernel/termcomp/TE-2.html"><IMG
 WIDTH="22" HEIGHT="21" ALIGN="BOTTOM" BORDER="0"
 SRC="img12.gif"
 ALT="$\sim$">=/2</A><A NAME="10806"></A>.
Instead of succeeding or failing, they will suspend when their arguments
are insufficiently instantiated to make a decision. For example<PRE>
?- X ~= 3.
X = X
There is 1 delayed goal.
Yes (0.00s cpu)
</PRE>
Here, the system does not have enough information to decide whether the
query is true or false. The goal remains delayed and we have a case of
floundering
(the ECLiPSe toplevel indicates this situation by printing a message
about delayed goals at the end of the computation).

<P>
However, when the variable which was responsible for the suspension gets instantiated
later, the delayed goal will be resumed (woken) and either succeed, fail, or
suspend again. In the following example, the disequality predicate initially
suspends, but wakes up later and succeeds or fails, respectively:<PRE>
?- X ~= 3, X = 4.
X = 4
Yes (0.00s cpu)
?- X ~= 3, X = 3.
No (0.00s cpu)
</PRE>

<P>
<A NAME="suspendsolver"></A>Further predicate implementations with the same behaviour (delay until
all arguments are ground) can be found in the <B>suspend library</B>
<A NAME="10239"></A>
<A NAME="tex2html1387"
 HREF="../bips/lib/suspend/index.html">lib(suspend)</A><A NAME="10809"></A>.
In particular, it implements all common arithmetic predicates plus
the constraints defined by the Common Arithmetic Solver Interface
(see Constraint Library Manual), for instance
<PRE>
=:=/2, =\=/2,  &gt;=/2,  =&lt;/2,  &gt;/2,  &lt;/2,
 $=/2, $\=/2, $&gt;=/2, $=&lt;/2, $&gt;/2, $&lt;/2,
 #=/2, #\=/2, #&gt;=/2, #=&lt;/2, #&gt;/2, #&lt;/2,
integers/1, reals/1,
</PRE>
The solver will suspend these predicates until all their arguments
are ground<A NAME="tex2html1381"

HREF="footnode.html#foot10244"><SUP>17.1</SUP></A>.

<P>
The suspend library is loaded into ECLiPSe on start-up, but the
constraints associated with the suspend solver are not imported.
To use them, either import the suspend library to the current module,
or call the constraint qualified with the module:<PRE>
suspend:(X &gt; 2), suspend:(X #=&lt; 5)
</PRE>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html3876"
 HREF="node109.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html3872"
 HREF="node105.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html3866"
 HREF="node107.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html3874"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html3877"
 HREF="node109.html">Development System Support</A>
<B> Up:</B> <A NAME="tex2html3873"
 HREF="node105.html">Advanced Control Features</A>
<B> Previous:</B> <A NAME="tex2html3867"
 HREF="node107.html">Concepts</A>
 &nbsp <B>  <A NAME="tex2html3875"
 HREF="node158.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
