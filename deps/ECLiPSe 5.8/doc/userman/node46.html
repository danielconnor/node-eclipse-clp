<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Numeric Types and Type Conversions</TITLE>
<META NAME="description" CONTENT="Numeric Types and Type Conversions">
<META NAME="keywords" CONTENT="umsroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="umsroot.css">
<LINK REL="next" HREF="node47.html">
<LINK REL="previous" HREF="node45.html">
<LINK REL="up" HREF="node44.html">
<LINK REL="next" HREF="node47.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html2945"
 HREF="node47.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html2941"
 HREF="node44.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html2935"
 HREF="node45.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html2943"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html2946"
 HREF="node47.html">Arithmetic Functions</A>
<B> Up:</B> <A NAME="tex2html2942"
 HREF="node44.html">Arithmetic Evaluation</A>
<B> Previous:</B> <A NAME="tex2html2936"
 HREF="node45.html">Built-Ins to Evaluate Arithmetic</A>
 &nbsp <B>  <A NAME="tex2html2944"
 HREF="node158.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html2947"
 HREF="node46.html#SECTION00821000000000000000">Integers</A>
<LI><A NAME="tex2html2948"
 HREF="node46.html#SECTION00822000000000000000">Rationals</A>
<LI><A NAME="tex2html2949"
 HREF="node46.html#SECTION00823000000000000000">Floating Point Numbers</A>
<LI><A NAME="tex2html2950"
 HREF="node46.html#SECTION00824000000000000000">Bounded Real Numbers</A>
<LI><A NAME="tex2html2951"
 HREF="node46.html#SECTION00825000000000000000">Type Conversions</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00820000000000000000"></A>
<A NAME="4502"></A>
<BR>
Numeric Types and Type Conversions
</H1>
ECLiPSe distinguishes four types of numbers: <B>integers</B>,
<B>rationals</B>, <B>floats</B> and <B>bounded reals</B>.

<P>

<H2><A NAME="SECTION00821000000000000000"></A>
<A NAME="intrep"></A><A NAME="4510"></A>
<A NAME="4511"></A>
<A NAME="4512"></A>
<BR>
Integers
</H2>
The magnitude of integers is only limited by your available memory.
However, integers that fit into the word size of your computer are
represented more efficiently (this distinction is invisible to the user).
Integers are written in decimal notation or in base notation, e.g.:
<PRE>
	0  3  -5  1024  16'f3ae  0'a  15511210043330985984000000
</PRE>

<P>

<H2><A NAME="SECTION00822000000000000000"></A>
<A NAME="4516"></A>
<A NAME="4517"></A>
<BR>
Rationals
</H2>
Rational numbers implement the corresponding mathematical domain,
i.e. ratios of two integers (numerator and denominator).
ECLiPSe represents rationals in a canonical form where the 
greatest common divisor of numerator and denominator is 1 and the
denominator is positive. Rational constants are written as numerator
and denominator separated by an underscore, e.g.
<PRE>
	1_3  -30517578125_32768  0_1
</PRE>
Rational arithmetic is arbitrarily precise. When the global flag
<A NAME="4521"></A>
<A NAME="4522"></A>
<TT>prefer_rationals</TT> is set, the system uses rational arithmetic
wherever possible. In particular, dividing two integers then yields a precise
rational rather than a float result.

<P>

<H2><A NAME="SECTION00823000000000000000"></A>
<A NAME="4525"></A>
<A NAME="4526"></A>
<BR>
Floating Point Numbers
</H2>
Floating point numbers conceptually correspond to the mathematical
domain of real numbers, but are not precisely represented.
Floats are written with decimal point and/or an exponent, e.g.
<PRE>
	0.0  3.141592653589793  6.02e23  -35e-12  -1.0Inf
</PRE>
<A NAME="4529"></A>
<A NAME="4530"></A>
ECLiPSe uses double precision floats<A NAME="tex2html559"
 HREF="footnode.html#foot4659"><SUP>8.1</SUP></A>.

<P>

<H2><A NAME="SECTION00824000000000000000"></A>
<A NAME="4534"></A>
<A NAME="4535"></A>
<A NAME="4536"></A>
<BR>
Bounded Real Numbers
</H2>
It is a well known problem that floating point arithmetic suffers
from rounding errors.
To provide safe arithmetic over the <B>real</B> numbers, ECLiPSe
also implements <B>bounded reals</B><A NAME="tex2html565"
 HREF="footnode.html#foot4660"><SUP>8.2</SUP></A>.
A bounded real consists of a pair of floating point numbers
which constitute a safe lower and upper bound for the real number that
is being represented. Bounded reals are written as two floating point
numbers separated by two underscores, e.g.
<PRE>
	-0.001__0.001  3.141592653__3.141592654  1e308__1.0Inf
</PRE>
A bounded real is a representation for a real number that definitely lies
somewhere between the two bounds, but the exact value cannot be determined <A NAME="tex2html566"
 HREF="footnode.html#foot4544"><SUP>8.3</SUP></A>.
Bounded reals are usually not typed in by the user, they are normally
the result of a computation or type coercion.

<P>
All computations with bounded reals give safe results, taking rounding
errors into account. This is achieved by doing interval arithmetic
<A NAME="4545"></A>
on the bounds and rounding the results outwards. The resulting
bounded real is then guaranteed to enclose the true real result.

<P>
Computations with floating point values result in uncertainties
about the correct result. Bounded reals make this uncertainty
explicit. A consequence of this is that sometimes it is conceptually
not possible to decide whether two bounded reals are identical or not.
This occurs when the bounds of the compared intervals overlap.
In this case, the arithmetic comparisons leave a (ground) delayed goal
behind which can then be inspected by the user to decide whether the
match is considered close enough. The syntactial comparisons like
<A NAME="tex2html568"
 HREF="../bips/kernel/termcomp/E-2.html">=/2</A><A NAME="4666"></A> and
<A NAME="tex2html570"
 HREF="../bips/kernel/termcomp/EE-2.html">==/2</A><A NAME="4669"></A> treat bounded reals
simply as a pair of bounds, and consider them equal when the bounds are
equal.

<P>

<H2><A NAME="SECTION00825000000000000000">
Type Conversions</A>
</H2>
Note that numbers of different types never unify, e.g. 3, 3_1, 3.0
and 3.0__3.0 are all different.
Use the arithmetic comparison predicates when you want to
compare numeric values.
When numbers of different types occur as arguments of an arithmetic
operation or comparison, the types are first made equal by converting
to the more general of the two types, i.e. the rightmost one in the sequence
<BLOCKQUOTE>
integer <code>-&gt;</code> rational <code>-&gt;</code> float <code>-&gt;</code> bounded real

</BLOCKQUOTE>
The operation or comparison is then carried out with this type and the
result is of this type as well, unless otherwise specified.
Beware of the potential loss of precision in the
rational 
<code>-&gt;</code>
float conversion!
Note that the system never does automatic conversions in the opposite direction.
Such conversion must be programmed explicitly using the
<A NAME="tex2html572"
 HREF="../bips/kernel/arithmetic/fix-2.html">fix</A><A NAME="4672"></A>,
<A NAME="tex2html574"
 HREF="../bips/kernel/arithmetic/rational-2.html">rational</A><A NAME="4675"></A>,
<A NAME="tex2html576"
 HREF="../bips/kernel/arithmetic/float-2.html">float</A><A NAME="4678"></A> and
<A NAME="tex2html578"
 HREF="../bips/kernel/arithmetic/breal-2.html">breal</A><A NAME="4681"></A>
functions.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2945"
 HREF="node47.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html2941"
 HREF="node44.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html2935"
 HREF="node45.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html2943"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html2946"
 HREF="node47.html">Arithmetic Functions</A>
<B> Up:</B> <A NAME="tex2html2942"
 HREF="node44.html">Arithmetic Evaluation</A>
<B> Previous:</B> <A NAME="tex2html2936"
 HREF="node45.html">Built-Ins to Evaluate Arithmetic</A>
 &nbsp <B>  <A NAME="tex2html2944"
 HREF="node158.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
