<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta5 (July 28th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Getting Started</TITLE>
<META NAME="description" CONTENT="Getting Started">
<META NAME="keywords" CONTENT="umsroot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="umsroot.css">
<LINK REL="next" HREF="node42.html">
<LINK REL="previous" HREF="node40.html">
<LINK REL="up" HREF="node39.html">
<LINK REL="next" HREF="node42.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html2852"
 HREF="node42.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html2848"
 HREF="node39.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html2842"
 HREF="node40.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html2850"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html2853"
 HREF="node42.html">Advanced Topics</A>
<B> Up:</B> <A NAME="tex2html2849"
 HREF="node39.html">Module System</A>
<B> Previous:</B> <A NAME="tex2html2843"
 HREF="node40.html">Basics</A>
 &nbsp <B>  <A NAME="tex2html2851"
 HREF="node158.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html2854"
 HREF="node41.html#SECTION00721000000000000000">Creating a Module</A>
<LI><A NAME="tex2html2855"
 HREF="node41.html#SECTION00722000000000000000">Exporting</A>
<LI><A NAME="tex2html2856"
 HREF="node41.html#SECTION00723000000000000000">Importing</A>
<LI><A NAME="tex2html2857"
 HREF="node41.html#SECTION00724000000000000000">Definitions, Visibility and Accessibility</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00720000000000000000">
Getting Started</A>
</H1>

<H2><A NAME="SECTION00721000000000000000">
Creating a Module</A>
</H2>

<P>
You create a module simply by starting your program code with a
<A NAME="tex2html423"
 HREF="../bips/kernel/modules/module-1.html">module/1</A><A NAME="4163"></A>
directive.  This should usually be placed at the beginning of the source file
and looks like<PRE>
:- module(mymodule).
</PRE>
As a rule, the module name should be chosen to be the same as the
file's base name (the filename without directory/folder and
suffix/extension part). E.g. the module <TT>mymodule</TT> might be
contained in a file <TT>mymodule.ecl</TT>.

<P>
Anything you define in your module is by default <B>local</B> to that module.

<P>

<H2><A NAME="SECTION00722000000000000000"></A>
<A NAME="3816"></A>
<BR>
Exporting
</H2>

<P>
A definition is made available to the outside world by <B>exporting</B> it.
All the exports of a module together form the module's <B>interface</B>.
Exporting is done with the
<A NAME="tex2html427"
 HREF="../bips/kernel/modules/export-1.html">export/1</A><A NAME="4166"></A>
directive, which can take
different forms depending on the kind of the exported item.

<P>
Predicates are exported as follows:<PRE>
:- export p/2.

p(X,Y) :-
        ...
</PRE>

<P>
Structures are exported by defining them with an
<A NAME="tex2html429"
 HREF="../bips/kernel/modules/export-1.html">export/1</A><A NAME="4169"></A>
instead of a
<A NAME="tex2html431"
 HREF="../bips/kernel/modules/local-1.html">local/1</A><A NAME="4172"></A>
directive, e.g.<PRE>
:- export struct(book(author,title,publisher)).
</PRE>

<P>
And the same holds for operators and other syntax settings:<PRE>
:- export op(500, xfx, before).
:- export chtab(0'$, lower_case).
:- export syntax_option(no_array_subscripts).
:- export macro(pretty/1, tr_pretty/2, []).
</PRE>
All these declarations are valid locally in the module where they appear
<EM>and</EM> in every module that imports them.

<P>
Initialization goals are exported as follows:<PRE>
:- export initialization(writeln("I have been imported")).
</PRE>
Unlike the other declarations above, an exported
<A NAME="tex2html433"
 HREF="../bips/kernel/modules/export-1.html">initialization/1</A><A NAME="4175"></A> directive is <EM>not</EM> executed locally in
they module where it appears, but <EM>only</EM> in the context of the
module where it gets imported<A NAME="tex2html426"

HREF="footnode.html#foot3846"><SUP>7.1</SUP></A>.

<P>

<H2><A NAME="SECTION00723000000000000000"></A>
<A NAME="3848"></A>
<BR>
Importing
</H2>

<P>
In order to use a definition that has been exported elsewhere, it has
to be <B>imported</B>.  Often it is desirable to import another module's
interface as a whole, i.e. everything it exports.
This is achieved by an
<A NAME="tex2html436"
 HREF="../bips/kernel/modules/import-1.html">import/1</A><A NAME="4178"></A>
directive of the form<PRE>
:- import amodule.
</PRE>
If the module is in a file and has to be compiled first, then
<A NAME="tex2html438"
 HREF="../bips/kernel/modules/use_module-1.html">use_module/1</A><A NAME="4181"></A>
can be used, which is a combination of
<A NAME="tex2html440"
 HREF="../bips/kernel/database/ensure_loaded-1.html">ensure_loaded/1</A><A NAME="4184"></A>
(see chapter <A HREF="node27.html#chapcompiler">6</A>) and
<A NAME="tex2html442"
 HREF="../bips/kernel/modules/import-1.html">import/1</A><A NAME="4187"></A>:<PRE>
:- use_module("/home/util/amodule").
</PRE>
If the module is a library in one of ECLiPSe's library directories,
then it can be loaded and imported by<PRE>
:- use_module(library(hash)).
</PRE>
or simply using
<A NAME="tex2html444"
 HREF="../bips/kernel/database/lib-1.html">lib/1</A><A NAME="4190"></A> as in<PRE>
:- lib(hash).
</PRE>

<P>
It is also possible to import only a part of another module's
interface, using an
<A NAME="tex2html446"
 HREF="../bips/kernel/modules/import-1.html">import-from directive</A><A NAME="4193"></A><PRE>
:- import p/2 from amodule.
</PRE>
Note that this is the only form of import that can refer to a module
that has not yet been loaded, and therefore allows a restricted form
of circularity in the import structure.

<P>

<H2><A NAME="SECTION00724000000000000000">
Definitions, Visibility and Accessibility</A>
</H2>

<P>
For a given predicate name and arity the following rules hold:

<P>

<UL><LI>Every module can contain at most one <B>definition</B>
<A NAME="3888"></A>

<UL><LI>this definition may be local or exported
    
</UL>

<LI>In every module, at most one definition is <B>visible</B>
<A NAME="3892"></A>

<UL><LI>if there is a definition in the module itself,
	this is also the visible one in the module

<LI>otherwise, if there is an (unambiguous) import or reexport,
	this is the visible one

<LI>otherwise no definition is visible
    
</UL>

<LI>All exported definitions are <B>accessible</B> everywhere
<A NAME="3896"></A>

<UL><LI>this might require explicit module qualification
	(see&nbsp;<A HREF="node42.html#qualifiedaccess">7.3.2</A>)
    
</UL>
</UL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2852"
 HREF="node42.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html2848"
 HREF="node39.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html2842"
 HREF="node40.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>  
<A NAME="tex2html2850"
 HREF="node158.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html2853"
 HREF="node42.html">Advanced Topics</A>
<B> Up:</B> <A NAME="tex2html2849"
 HREF="node39.html">Module System</A>
<B> Previous:</B> <A NAME="tex2html2843"
 HREF="node40.html">Basics</A>
 &nbsp <B>  <A NAME="tex2html2851"
 HREF="node158.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Warwick Harvey</I>
<BR><I>2005-01-25</I>
</ADDRESS>
</BODY>
</HTML>
